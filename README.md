# atsap-iot-sketches

–°–∫–µ—Ç—á–∏ –¥–ª—è IoT –¥–µ–≤–∞–π—Å–æ–≤

## –ù–∞–±–æ—Ä IoT –¥–µ–≤–∞–π—Å–æ–≤
1. [**esp32-controller** ESP32 —Å –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ MQTT –±—Ä–æ–∫–µ—Ä—É. ESP-NOW gateway](./esp32-controller/)
2. [**esp32-node-dht22** ESP32 + DHT-22. ESP-NOW node](./esp32-node-dht22/)

---

## üõ† –†–µ—Ü–µ–ø—Ç—ã –¥–ª—è —Å–∫–µ—Ç—á–µ–π

### –ü–æ–ª—É—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω–æ–≥–æ WiFi –∫–∞–Ω–∞–ª–∞

```
int32_t getWiFiChannel(const char *ssid)
{
    if (int32_t n = WiFi.scanNetworks())
    {
        for (uint8_t i = 0; i < n; i++)
        {
            if (!strcmp(ssid, WiFi.SSID(i).c_str()))
            {
                return WiFi.channel(i);
            }
        }
    }

    return 0;
}
```

##### üîé –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç?

–§—É–Ω–∫—Ü–∏—è `getWiFiChannel` –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –∫–∞–Ω–∞–ª Wi-Fi —Å–µ—Ç–∏ –ø–æ –µ—ë SSID. –û–Ω–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö —Å–µ—Ç–µ–π —Å –ø–æ–º–æ—â—å—é `WiFi.scanNetworks()` –∏ —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç SSID –∫–∞–∂–¥–æ–π –Ω–∞–π–¥–µ–Ω–Ω–æ–π —Å–µ—Ç–∏ —Å –ø–µ—Ä–µ–¥–∞–Ω–Ω—ã–º –∑–Ω–∞—á–µ–Ω–∏–µ–º.

–ï—Å–ª–∏ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ –Ω–∞–π–¥–µ–Ω–æ, –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç—Å—è –∫–∞–Ω–∞–ª —ç—Ç–æ–π —Å–µ—Ç–∏ —á–µ—Ä–µ–∑ `WiFi.channel(i)`. –ï—Å–ª–∏ —Å–µ—Ç—å –Ω–µ –Ω–∞–π–¥–µ–Ω–∞ –∏–ª–∏ —Å–∫–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–µ —É–¥–∞–ª–æ—Å—å, —Ñ—É–Ω–∫—Ü–∏—è –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç `0`.

